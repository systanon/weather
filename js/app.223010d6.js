(function(t){function e(e){for(var n,a,c=e[0],s=e[1],u=e[2],l=0,d=[];l<c.length;l++)a=c[l],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&d.push(o[a][0]),o[a]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n]);f&&f(e);while(d.length)d.shift()();return i.push.apply(i,u||[]),r()}function r(){for(var t,e=0;e<i.length;e++){for(var r=i[e],n=!0,a=1;a<r.length;a++){var c=r[a];0!==o[c]&&(n=!1)}n&&(i.splice(e--,1),t=s(s.s=r[0]))}return t}var n={},a={app:0},o={app:0},i=[];function c(t){return s.p+"js/"+({city:"city"}[t]||t)+"."+{city:"00274285","chunk-d4c1104e":"1b518a0c"}[t]+".js"}function s(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.e=function(t){var e=[],r={"chunk-d4c1104e":1};a[t]?e.push(a[t]):0!==a[t]&&r[t]&&e.push(a[t]=new Promise((function(e,r){for(var n="css/"+({city:"city"}[t]||t)+"."+{city:"31d6cfe0","chunk-d4c1104e":"b57fe8ba"}[t]+".css",o=s.p+n,i=document.getElementsByTagName("link"),c=0;c<i.length;c++){var u=i[c],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===n||l===o))return e()}var d=document.getElementsByTagName("style");for(c=0;c<d.length;c++){u=d[c],l=u.getAttribute("data-href");if(l===n||l===o)return e()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=e,f.onerror=function(e){var n=e&&e.target&&e.target.src||o,i=new Error("Loading CSS chunk "+t+" failed.\n("+n+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=n,delete a[t],f.parentNode.removeChild(f),r(i)},f.href=o;var p=document.getElementsByTagName("head")[0];p.appendChild(f)})).then((function(){a[t]=0})));var n=o[t];if(0!==n)if(n)e.push(n[2]);else{var i=new Promise((function(e,r){n=o[t]=[e,r]}));e.push(n[2]=i);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.src=c(t);var d=new Error;u=function(e){l.onerror=l.onload=null,clearTimeout(f);var r=o[t];if(0!==r){if(r){var n=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+n+": "+a+")",d.name="ChunkLoadError",d.type=n,d.request=a,r[1](d)}o[t]=void 0}};var f=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(e)},s.m=t,s.c=n,s.d=function(t,e,r){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(r,n,function(e){return t[e]}.bind(null,n));return r},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/weather/",s.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=e,u=u.slice();for(var d=0;d<u.length;d++)e(u[d]);var f=l;i.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"448e":function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-img",{staticClass:"pa-0 ma-0",attrs:{src:t.link,width:t.width,height:t.height,contain:""}})},a=[];r("1393"),r("99af");function o(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"".concat("http://openweathermap.org","/img/wn/").concat(t,"@").concat(e?4:2,"x.png")}var i={name:"WeatherIcon",props:{icon:{type:String,default:""},big:{type:Boolean,default:!1},width:{type:String,default:"50"},height:{type:String,default:"50"}},computed:{link:function(){return o(this.icon,this.big)}}},c=i,s=r("2877"),u=r("6544"),l=r.n(u),d=r("adda"),f=Object(s["a"])(c,n,a,!1,null,null,null);e["a"]=f.exports;l()(f,{VImg:d["a"]})},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d"),r("4de4");var n=r("2b0e"),a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",[r("v-app-bar",{attrs:{app:"",color:"primary",dark:""}},[r("h2",{},[t._v("open weather map")]),r("v-spacer")],1),r("v-main",[r("router-view")],1),r("error-message")],1)},o=[],i={name:"App",data:function(){return{}},created:function(){this.$store.dispatch("INIT")}},c=i,s=r("2877"),u=r("6544"),l=r.n(u),d=r("7496"),f=r("40dc"),p=r("f6c4"),h=r("2fa4"),v=Object(s["a"])(c,a,o,!1,null,null,null),m=v.exports;l()(v,{VApp:d["a"],VAppBar:f["a"],VMain:p["a"],VSpacer:h["a"]});var g=r("9483");Object(g["a"])("".concat("/weather/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});r("d3b7"),r("3ca3"),r("ddb0");var y=r("8c4f"),b=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[r("h1",{staticClass:"text-center text-h4 py-8"},[t._v("City list")]),r("v-card",{staticClass:"d-flex justify-center",attrs:{flat:""}},[r("v-card",{attrs:{flat:"","max-width":"400"}},[r("v-text-field",{attrs:{outlined:"",dense:"",placeholder:"enter the name of the city","append-icon":"mdi-magnify"},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addCity(e)},"click:append":t.addCity},model:{value:t.cityName,callback:function(e){t.cityName=e},expression:"cityName"}})],1)],1),t.list.length?r("div",{staticClass:"d-flex justify-center flex-wrap"},t._l(t.list,(function(e){return r("CityCard",{key:e.id,attrs:{city:e},on:{goTo:t.goTo,getWeather:t.getWeather,removeCity:t.removeCity}})})),1):r("div",[r("h2",{staticClass:"text-center px-8"},[t._v("No selected cities")])])],1)},w=[],C=r("5530"),_=r("2f62"),E=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-card",{staticClass:"ma-4",attrs:{width:"200","min-height":"250"},on:{click:function(e){return t.$emit("goTo",t.city.id)}}},[r("h2",{staticClass:"text-center text-truncate pa-4"},[t._v(t._s(t.city.name))]),t.city.weather?r("div",[r("div",{staticClass:"d-flex"},[r("WeatherIcon",{attrs:{icon:t.city.weather.weather[0].icon}}),r("v-card-title",{staticClass:"pa-2"},[t._v(t._s(t._f("degrees")(t.city.weather.main.temp))+" "),r("span",[t._v("℃")])])],1),r("v-card-text",[t._v("Feels like "+t._s(t._f("degrees")(t.city.weather.main.feels_like))),r("span",[t._v("℃")]),t._v("."+t._s(t._f("upperCase")(t.city.weather.weather[0].description)))])],1):r("div",[r("v-card-title",{staticClass:"justify-center"},[r("h2",[t._v("no data")])])],1),r("v-footer",{staticClass:"transparent",attrs:{absolute:""}},[r("v-card",{staticClass:"transparent",attrs:{flat:"",width:"100%"}},[r("v-card-actions",[r("v-btn",{attrs:{icon:""},on:{click:function(e){return e.stopPropagation(),t.$emit("getWeather",{id:t.city.id})}}},[r("v-icon",[t._v(" mdi-autorenew")])],1),r("v-spacer"),r("v-btn",{attrs:{icon:""},on:{click:function(e){return e.stopPropagation(),t.$emit("removeCity",t.city.id)}}},[r("v-icon",[t._v(" mdi-delete")])],1)],1)],1)],1)],1)},O=[],T=r("448e"),j={name:"CityCard",props:{city:{type:Object,required:!0}},components:{WeatherIcon:T["a"]},data:function(){return{}},methods:{}},x=j,k=r("8336"),S=r("b0af"),R=r("99d9"),L=r("553a"),A=r("132d"),N=Object(s["a"])(x,E,O,!1,null,null,null),I=N.exports;l()(N,{VBtn:k["a"],VCard:S["a"],VCardActions:R["a"],VCardText:R["b"],VCardTitle:R["c"],VFooter:L["a"],VIcon:A["a"],VSpacer:h["a"]});var V={name:"CityList",components:{CityCard:I},data:function(){return{cityName:""}},computed:Object(C["a"])(Object(C["a"])({},Object(_["e"])(["_weather","_forecast","_additionally","cityList","weather"])),Object(_["c"])({list:"cityList"})),methods:Object(C["a"])(Object(C["a"])({},Object(_["b"])({getWeather:"WEATHER",removeCity:"REMOVE_CITY"})),{},{addCity:function(){this.cityName&&(this.getWeather({q:this.cityName}),this.cityName="")},goTo:function(t){this.$router.push({name:"City",params:{cityId:t}})}}),created:function(){}},M=V,W=r("a523"),P=r("8654"),D=Object(s["a"])(M,b,w,!1,null,null,null),Y=D.exports;l()(D,{VCard:S["a"],VContainer:W["a"],VTextField:P["a"]}),n["a"].use(y["a"]);var $=[{path:"/",name:"CityList",component:Y},{path:"/city/:cityId",name:"City",component:function(){return r.e("city").then(r.bind(null,"0d5f"))}}],F=new y["a"]({mode:"history",base:"/weather/",routes:$}),H=F,B=r("1da1"),q=(r("96cf"),r("7db0"),r("99af"),r("d81d"),r("b0c0"),r("6c57"),function(){return new Promise((function(t,e){var r;function n(e){t({lat:e.coords.latitude,lon:e.coords.longitude})}function a(){e("Unable to retrieve your location")}var o=null===globalThis||void 0===globalThis||null===(r=globalThis.navigator)||void 0===r?void 0:r.geolocation;o?o.getCurrentPosition(n,a):e("Geolocation is not supported by your browser")}))}),U={_ver:"2.5",_forecast:"forecast",_onecall:"onecall",_weather:"weather",get _path(){return"/data/"+this._ver},get forecast(){return this._path+"/"+this._forecast},get onecall(){return this._path+"/"+this._onecall},get weather(){return this._path+"/"+this._weather}},J=r("3835"),K=(r("2b3d"),r("159b"),r("4fad"),r("25f0"),{appid:"d8f0e2f2539a0dba3cc174753ce2ed6a",units:"metric",lang:"en"});function G(t){var e=new URLSearchParams,r=Object(C["a"])(Object(C["a"])({},K),t);return Object.entries(r).forEach((function(t){var r=Object(J["a"])(t,2),n=r[0],a=r[1];void 0!==a&&null!==a&&e.append(n,a.toString())})),e.toString()}r("ac1f"),r("1276"),r("498a");var z=function(t){var e,r=globalThis.document.cookie.split(";").map((function(t){return t.trim().split("=")})).find((function(e){var r=Object(J["a"])(e,2),n=r[0];r[1];return n===t}));return r&&null!==(e=r[1])&&void 0!==e?e:""},Q=86400,X="city-list",Z={saveCityList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=365*Q,r=JSON.stringify(t);globalThis.document.cookie="".concat(X,"=").concat(r,"; max-age=").concat(e)},readCityList:function(){var t=z(X);if(!t)return[];try{return JSON.parse(t)}catch(e){return[]}}},tt=r("bc3a"),et=r.n(tt),rt={baseURL:"https://api.openweathermap.org",timeout:5e3},nt=et.a.create(rt);nt.interceptors.request.use((function(t){return t}),(function(t){return Promise.reject(t)})),nt.interceptors.response.use((function(t){return t}),(function(t){return Promise.reject(t)}));var at=nt;n["a"].use(_["a"]);var ot=new _["a"].Store({state:{cityList:[],weather:[],forecast:null,additionally:null,error:null,errorMessage:"",errorType:""},mutations:{SET_CITY_LIST:function(t,e){t.cityList=e},CITY:function(t,e){var r=t.cityList.find((function(t){return t.id===e.id}));r||(t.cityList=t.cityList.concat([e])),Z.saveCityList(t.cityList)},REMOVE_CITY:function(t,e){t.cityList=t.cityList.filter((function(t){return t.id!==e})),Z.saveCityList(t.cityList)},WEATHER:function(t,e){var r=t.weather.find((function(t){return t.id===e.id}));t.weather=r?t.weather.map((function(t){return t.id===e.id?e:t})):t.weather.concat([e])},REMOVE_WEATHER:function(t,e){t.weather=t.weather.filter((function(t){return t.id!==e}))},FORECAST:function(t,e){t.forecast=e},ADDITIONALLY:function(t,e){t.additionally=e},CLEAR:function(t){t.forecast=null,t.additionally=null},ERROR:function(t,e){e?(t.error=e.error,t.errorMessage=e.errorMessage):(t.error=!1,t.errorMessage="")}},getters:{cityList:function(t){return t.cityList.map((function(e){return Object(C["a"])(Object(C["a"])({},e),{weather:t.weather.find((function(t){return t.id===e.id}))})}))}},actions:{INIT:function(t){return Object(B["a"])(regeneratorRuntime.mark((function e(){var r,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=t.commit,n=t.dispatch,a=Z.readCityList(),a&&Array.isArray(a)&&r("SET_CITY_LIST",a),q().then((function(t){return n("WEATHER",t)})).catch((function(t){return console.error(t)}));case 4:case"end":return e.stop()}}),e)})))()},WEATHER:function(t,e){return Object(B["a"])(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:n=t.commit,a=G(e),at.get("".concat(U.weather,"?").concat(a)).then((function(t){var e;if("OK"===t.statusText&&200===(null===(e=t.data)||void 0===e?void 0:e.cod)){var r=t.data,a=r.id,o=r.name;n("CITY",{id:a,name:o}),n("WEATHER",t.data)}})).catch((function(t){n("ERROR",{error:!0,errorMessage:t.response.data.message})}));case 3:case"end":return r.stop()}}),r)})))()},FORECAST:function(t,e){return Object(B["a"])(regeneratorRuntime.mark((function r(){var n,a,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:n=t.commit,a=t.dispatch,o=G(e),at.get("".concat(U.forecast,"?").concat(o)).then((function(t){var e;"OK"===t.statusText&&"200"===(null===(e=t.data)||void 0===e?void 0:e.cod)&&(n("FORECAST",t.data),a("ADDITIONALLY",t.data.city.coord))})).catch((function(t){n("ERROR",{error:!0,errorMessage:t.response.data.message})}));case 3:case"end":return r.stop()}}),r)})))()},ADDITIONALLY:function(t,e){return Object(B["a"])(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:n=t.commit,a=G(e),at.get("".concat(U.onecall,"?").concat(a)).then((function(t){"OK"===t.statusText&&t.data&&n("ADDITIONALLY",t.data)})).catch((function(t){n("ERROR",{error:!0,errorMessage:t.response.data.message})}));case 3:case"end":return r.stop()}}),r)})))()},REMOVE_CITY:function(t,e){var r=t.commit;r("REMOVE_CITY",e),r("REMOVE_WEATHER",e)}},modules:{}}),it=r("f309");n["a"].use(it["a"]);var ct=new it["a"]({icons:{iconfont:"mdi",values:{}},theme:{themes:{light:{primary:"#ea6d4f",accent:"#eb522f",secondary:"#7acbbf",info:"#888888",warning:"#888888",error:"#888888",success:"#888888"}}}}),st=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-dialog",{staticClass:"pa-4",attrs:{"max-width":"480px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[r("v-card",{attrs:{flat:""}},[r("v-toolbar",{staticClass:"px-4",attrs:{dark:"",dense:"",color:"error"}},[r("v-icon",{staticClass:"mr-4"},[t._v(" mdi-alert ")]),r("v-toolbar-title",[t._v(" Error ")]),r("v-spacer"),r("v-btn",{attrs:{icon:""},on:{click:function(e){t.dialog=!1}}},[r("v-icon",{attrs:{large:""}},[t._v(" mdi-close ")])],1)],1),r("v-card-text",{staticClass:"text-center"},[r("h3",[t._v(t._s(t.errorMessage||"Unknown Error"))])])],1)],1)},ut=[],lt={name:"ErrorMessage",computed:Object(C["a"])(Object(C["a"])({},Object(_["e"])(["error","errorMessage","errorType"])),{},{dialog:{get:function(){return this.error},set:function(t){!t&&this.resetError()}}}),methods:Object(C["a"])(Object(C["a"])({},Object(_["d"])({setError:"ERROR"})),{},{resetError:function(){this.setError(null)}})},dt=lt,ft=r("169a"),pt=r("71d9"),ht=r("2a7f"),vt=Object(s["a"])(dt,st,ut,!1,null,null,null),mt=vt.exports;l()(vt,{VBtn:k["a"],VCard:S["a"],VCardText:R["b"],VDialog:ft["a"],VIcon:A["a"],VSpacer:h["a"],VToolbar:pt["a"],VToolbarTitle:ht["a"]});r("fb6a");function gt(t){return t?Math.round(t):0}function yt(t){return t?t.charAt(0).toUpperCase()+t.slice(1):""}var bt=function(t){return 1===t.length?"0"+t:t},wt=function(t){var e=1e3*t,r=new Date(e),n=bt(r.getMinutes().toString()),a=bt(r.getHours().toString());return"".concat(a,":").concat(n)},Ct=function(t){var e=1e3*t,r=new Date(e),n="en",a={hour12:!1,weekday:"long",month:"short",day:"numeric"};return r.toLocaleString(n,a)},_t=function(t){return"".concat(t,"m/sec")},Et=function(t){return Math.round(t)},Ot=["E","ENE","NE","NNE","N","NNW","NW","WNW","W","WSW","SW","SSW","S","SSE","SE","ESE"],Tt=function(t){var e=Ot.length,r=e/2,n=t+r,a=Math.floor(n/e);return Ot[a]};n["a"].config.productionTip=!1,n["a"].filter("degrees",gt),n["a"].filter("upperCase",yt),n["a"].filter("formatTime",wt),n["a"].filter("formatDate",Ct),n["a"].filter("windSpeed",_t),n["a"].filter("round",Et),n["a"].filter("windDegStr",Tt),n["a"].component("error-message",mt),new n["a"]({router:H,store:ot,vuetify:ct,render:function(t){return t(m)}}).$mount("#app")}});
//# sourceMappingURL=app.223010d6.js.map